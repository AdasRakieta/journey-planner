# Journey Planner - Environment Variables for Docker Compose
# Copy this file to .env and fill in your actual values
#
# IMPORTANT: This configuration connects to EXISTING PostgreSQL database
# Find your Postgres container IP with: ./find-postgres-ip.sh

# ===========================================
# DATABASE CONFIGURATION (REQUIRED!)
# ===========================================
# DB_HOST - IP address of your EXISTING PostgreSQL container or server
# Find container IP: docker inspect <postgres-container-name> | grep IPAddress
# Or use helper: chmod +x find-postgres-ip.sh && ./find-postgres-ip.sh
# Or use Tailscale IP if accessing remotely
DB_HOST=100.100.100.2                       # CHANGE THIS to your Postgres IP!
DB_PORT=5432
DB_NAME=journey_planner
DB_USER=journey_user
DB_PASSWORD=your_secure_db_password_here    # CHANGE THIS!

# ===========================================
# JWT AUTHENTICATION (REQUIRED!)
# ===========================================
# Generate a strong secret: openssl rand -base64 32
JWT_SECRET=your_super_secret_jwt_key_change_in_production_minimum_32_characters  # CHANGE THIS!
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# ===========================================
# EMAIL CONFIGURATION (REQUIRED!)
# ===========================================
# Gmail SMTP with App Password (not regular password!)
# How to get App Password: https://myaccount.google.com/apppasswords
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USERNAME=your_email@gmail.com       # CHANGE THIS!
SMTP_PASSWORD=your_16_char_app_password  # CHANGE THIS - use App Password!
SMTP_FROM_EMAIL=your_email@gmail.com
SMTP_FROM_NAME=Journey Planner

# ===========================================
# APPLICATION URLS
# ===========================================
NODE_ENV=production
BACKEND_PORT=5001                        # NIGDY 5000 - konflikt z SmartHome!
FRONTEND_PORT=5173

# Use your Raspberry Pi IP address here
FRONTEND_URL=http://192.168.1.100:5173   # CHANGE THIS to your Pi IP!
VITE_API_URL=http://192.168.1.100:5001/api
CORS_ORIGIN=http://192.168.1.100:5173

# ===========================================
# DOCKER BUILD CONFIGURATION
# ===========================================
# Portainer will BUILD images locally from source code
# No need to pull from registry - everything builds automatically!
IMAGE_TAG=local

# ===========================================
# FILE UPLOAD CONFIGURATION
# ===========================================
UPLOAD_DIR=./uploads/attachments
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=application/pdf,image/jpeg,image/png,image/jpg,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document

# ===========================================
# API CONFIGURATION (for frontend)
# ===========================================
VITE_API_URL=http://localhost:5001/api

# For production deployment, use your domain:
# VITE_API_URL=https://yourdomain.com/api
